<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }

      #contsents > section {
        min-height: 90vh;
      }

      #section1 {
        background-image: linear-gradient(
          -20deg,
          #ddd6f3 0%,
          #faaca8 100%,
          #faaca8 100%
        );
      }
      #section2 {
        background-image: linear-gradient(
          to top,
          #bdc2e8 0%,
          #bdc2e8 1%,
          #e6dee9 100%
        );
      }
      #section3 {
        background-image: linear-gradient(-45deg, #ffc796 0%, #ff6b95 100%);
      }
      #section4 {
        background-image: linear-gradient(to top, #df89b5 0%, #bfd9fe 100%);
      }
      #section5 {
        background-image: linear-gradient(
          -225deg,
          #2cd8d5 0%,
          #c5c1ff 56%,
          #ffbac3 100%
        );
      }
      #section6 {
        background-image: linear-gradient(-225deg, #b6cee8 0%, #f578dc 100%);
      }

      .square {
        width: 200px;
        height: 200px;
        background-image: linear-gradient(to top, #df89b5 0%, #bfd9fe 100%);
      }

      .square.red {
        background-image: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      .square2 {
        width: 200px;
        height: 200px;
        background-image: linear-gradient(to right, #fa709a 0%, #fee140 100%);
      }

      .panel {
        height: 100vh;
        background-color: beige;
      }

      .box {
        width: 100px;
        height: 100px;
        background-color: #5753c9;
      }

      .box-red {
        background-color: red;
      }

      nav {
        position: sticky;
        top: 0;
        transition: all 600ms ease-in-out;
        background-color: tan;
        color: #000;
        text-align: center;
      }

      li {
        padding: 20px;
        display: inline-block;
      }

      .not-active {
        background: #fff;
        color: #6a11cb;
      }
    </style>
  </head>
  <body>
    <nav>
      <ul>
        <li>about</li>
        <li>work</li>
        <li>contact</li>
      </ul>
    </nav>

    <div class="panel">Creates a new standalone ScrollTrigger instance.</div>
    <!-- <div class="box"></div>
    <div class="panel"></div> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>

    <script>
      gsap.registerPlugin(ScrollTrigger);

      ScrollTrigger.create({
        trigger: ".panel",
        start: "top 6%",
        markers: true,
        toggleClass: { targets: "nav", className: "not-active" }, // 타겟 설정
        onEnter: () => console.log("onEnter"),
        onLeave: () => console.log("onLeave"),
        onEnterBack: () => console.log("onEnterBack"),
        onLeaveBack: () => console.log("onLeaveBack"),
      });
    </script>

    <!-- <script>
      // 기본 애니메이션
      gsap.registerPlugin(ScrollTrigger);

      gsap.to(".square", {
        x: 1000,
        duration: 3,
        scrollTrigger: {
          trigger: ".square",
          start: "top 70%",
          end: () => `+=${document.querySelector(".square").offsetHeight}`,
          markers: true,
          toggleClass: "red",
        },
      });

       // gsap.to(".square", {
      //   // x: 1000,
      //   duration: 3,
      //   scrollTrigger: {
      //     trigger: ".square",
      //     start: "top 70%",
      //     end: "top 30%",

      //     markers: {
      //       startColor: "red",
      //       endColor: "purple",
      //       fontSize: "30px",
      //     },
      //     toggleClass: "red",
      //     toggleActions: "restart none none none",
      //   },
      // });

      toggleActions: "restart pause resume reset",
      //              onEnter onLeave onEnterBack onLeaveBack 컨트롤 가능
      //              play, pause, resume, reset, restart, complete, revers, none

      // 스크롤 할때만 움직이기
      scrub: true,

     // 고정 
      pin: true,
      pinSpacing: false,

      // 타임라인
      const tl = gsap.timeline({
        scrollTrigger: {
          trigger: ".square",
          markers: true,
          start: "top 80%",
          end: "top 30%",
          scrub: 1,
        },
      });

      tl.to(".square", {
        x: 1000,
        duration: 2,
        rotation: 100,
        skewY: 1,
        borderRadius: 0,
      })
        .to(".square", {
          y: 500,
          duration: 2,
          rotation: 0,
          skewY: 3,

          borderRadius: 100,
        })
        .to(".square", {
          x: 0,
          duration: 2,
          rotation: 300,
          skewY: 1,

          width: 400,
        })
        .to(".square", {
          y: 0,
          duration: 2,
          rotation: 0,

          width: 200,
        });

    // gsap.to(".square", { x: 1000, duration: 2, skewY: 1, borderRadius: 0 });
    // gsap.to(".square", {
    //   y: 500,
    //   duration: 2,
    //   delay: 2,
    //   borderRadius: 100,
    //   delay: 2,
    // });
    // gsap.to(".square", { x: 0, duration: 400, delay: 4 });
    // gsap.to(".square", { y: 0, duration: 200, delay: 6 });

    // const tl = gsap.timeline({repeat:2,yoyo:true});
    // tl.to(".square", {x: 1000,duration: 2,rotation: 100,skewY: 1,ease:"elastic",borderRadius: 0,} );
    // .to(".square", {y: 500,duration: 2,ease:"elastic", borderRadius: 100,delay: 2}, "-=1");
    // .to(".square", { x: 0, duration: 400,ease:"elastic",borderRadius: 100,delay: 2});
    // .to(".square", { y: 0, duration: 200 ,ease:"elastic"});


    </script> -->
  </body>
</html>
